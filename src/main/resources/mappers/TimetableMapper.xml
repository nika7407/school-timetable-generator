<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.solvd.schooltimetablegenerator.persistence.TimetableRepository"> 
    
    
    <insert id="insert" useGeneratedKeys="true" keyProperty="timetable.id">
        INSERT INTO timetable (id,date,period_number,day_of_week,subject_id, teacher_id)
        VALUES (#{timetable.id}, #{timetable.date}, #{}, #{timetable.periodNumber}, #{timetable.dayOfWeek}, #{subjectId}, #{teacherId},#{classRoomId})
    </insert>

    <delete id="delete" parameterType="Long">
        DELETE FROM timetable WHERE id=#{id}
    </delete>

    <update id="update" parameterType="com.solvd.schooltimetablegenerator.domain.Timetable">
        UPDATE timetable SET date=#{date}, period_number=#{periodNumber}, day_of_week=#{dayOfWeek}, subject_id=#{subjectId}, teacher_id=#{teacherId}, class_room_id=#{classRoomId}
        WHERE id=#{id}
    </update>

</mapper>